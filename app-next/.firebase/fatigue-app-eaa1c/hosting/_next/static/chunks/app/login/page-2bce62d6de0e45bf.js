(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{7741:function(e,t,s){Promise.resolve().then(s.bind(s,9280))},9376:function(e,t,s){"use strict";var r=s(5475);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},9280:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var r=s(7437),a=s(2265),n=s(605),i=s(9376),l=s(2381),o=s(279),d=s(5060);let c=(0,s(6471).Z)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);var u=s(1715);function x(){var e;let t=(0,i.useRouter)(),s=null!==(e=(0,i.useSearchParams)().get("callbackUrl"))&&void 0!==e?e:"/sheets",[x,h]=(0,a.useState)(""),[m,f]=(0,a.useState)(""),[p,g]=(0,a.useState)(""),[b,v]=(0,a.useState)(!1);async function y(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;e.preventDefault(),g(""),v(!0);try{let e=await (0,n.signIn)("credentials",{email:x,password:m,redirect:!1});if(null==e?void 0:e.error){g("Invalid email or password."),v(!1);return}t.push(r),t.refresh()}catch(e){g("Something went wrong.")}v(!1)}return(0,r.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-950 px-4 py-8",children:(0,r.jsxs)("div",{className:"w-full max-w-sm space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-xl bg-slate-900 dark:bg-slate-600 flex items-center justify-center mb-4 shadow-sm text-white dark:text-slate-200",children:(0,r.jsx)(c,{className:"w-6 h-6 text-white dark:text-slate-900"})}),(0,r.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-slate-100 tracking-tight",children:"Driver Fatigue Log"}),(0,r.jsx)("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-1",children:"WA Commercial Vehicle Fatigue Management"})]}),(0,r.jsxs)("form",{onSubmit:y,className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm p-6 space-y-5",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d._,{htmlFor:"email",className:"text-[10px] uppercase tracking-wider text-slate-400 dark:text-slate-500 font-semibold",children:"Email"}),(0,r.jsx)(o.I,{id:"email",type:"email",placeholder:"you@example.com",value:x,onChange:e=>h(e.target.value),className:"h-9",required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d._,{htmlFor:"password",className:"text-[10px] uppercase tracking-wider text-slate-400 dark:text-slate-500 font-semibold",children:"Password"}),(0,r.jsx)(o.I,{id:"password",type:"password",value:m,onChange:e=>f(e.target.value),className:"h-9",required:!0})]}),p&&(0,r.jsx)("p",{className:"text-sm text-red-600 font-medium",role:"alert",children:p}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.z,{type:"submit",className:"w-full h-9 bg-slate-900 hover:bg-slate-800 text-white font-semibold",disabled:b,children:b?"Signing in…":"Sign in"}),(0,r.jsxs)(l.z,{type:"button",variant:"outline",className:"w-full h-9 border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-300 font-medium gap-2",disabled:b,onClick:e=>y(e,"/manager"),children:[(0,r.jsx)(u.Z,{className:"w-4 h-4"})," Sign in as Manager"]})]})]}),(0,r.jsx)("p",{className:"text-xs text-center text-slate-400 dark:text-slate-500",children:"Set NEXTAUTH_CREDENTIALS_PASSWORD in .env to use password sign-in."})]})})}function h(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-950",children:"Loading…"}),children:(0,r.jsx)(x,{})})}},2381:function(e,t,s){"use strict";s.d(t,{z:function(){return o}});var r=s(7437),a=s(2265),n=s(535),i=s(3448);let l=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,t)=>{let{className:s,variant:a,size:n,...o}=e;return(0,r.jsx)("button",{className:(0,i.cn)(l({variant:a,size:n,className:s})),ref:t,...o})});o.displayName="Button"},279:function(e,t,s){"use strict";s.d(t,{I:function(){return i}});var r=s(7437),a=s(2265),n=s(3448);let i=a.forwardRef((e,t)=>{let{className:s,type:a,...i}=e;return(0,r.jsx)("input",{type:a,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...i})});i.displayName="Input"},5060:function(e,t,s){"use strict";s.d(t,{_:function(){return i}});var r=s(7437),a=s(2265),n=s(3448);let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("label",{ref:t,className:(0,n.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",s),...a})});i.displayName="Label"},3448:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var r=s(1994),a=s(3335);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.m6)((0,r.W)(t))}},1715:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(6471).Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])}},function(e){e.O(0,[851,692,971,117,744],function(){return e(e.s=7741)}),_N_E=e.O()}]);